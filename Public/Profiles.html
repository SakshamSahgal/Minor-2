<html>
   
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- For Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>

    <link rel="stylesheet" href="CSS/profiles.css">
    <link rel="stylesheet" href="CSS/Common_CSS.css">
    <title>USER PROFILE</title>
</head>
<body>

    <div id="Load_overlay" hidden>
        <img src="GUI_Resources/Loading.gif" id="loading_img">
    </div>  

  
    <div id="links_holder">
      <a href="./Dashboard.html">Dashboard</a>
      <a href="./users.html">Users</a>
      <a href="#" onclick="Logout();return false;">Logout</a>
      <a href="./Profiles.html">  <img src="./GUI_Resources/No_photo.gif" alt="" id="profile_picture" height="60" class="rounded-circle shadow-4-strong"> </a>           
    </div>

    <div class="container mt-5">
        <br><br><br><br>
        <ul class="nav-tabs nav nav-justified bg-light">
            <li class="nav-item">
              <a href="#My_Profile" class="nav-link active" data-bs-toggle="tab"> My Profile </a>
            </li>
            <li class="nav-item">
              <a href="#Edit_Profile" class="nav-link" data-bs-toggle="tab"> Edit Profile </a>
            </li>
            <li class="nav-item">
              <a href="#Rules" class="nav-link" data-bs-toggle="tab"> Edit Rules </a>
            </li>
        </ul>
        
        <!-- Delete Confirmation Modal -->

        <div class="modal" id="Delete_Confirmation_Modal">
          <div class="modal-dialog">
            <div class="modal-content"> 
        
              <div class="modal-header" align="center">
                <h3 class="text-center text-secondary"> This Action Can't Be Undone  </h3>
                <button type="button" class="btn close" data-bs-dismiss="modal"> &times; </button>
              </div>

              <div class="modal-body" align="center">
                <p>Do you really want to delete your account ?</p>
                <button type="button" class="close btn btn-primary btn-sm" data-bs-dismiss="modal"> No </button>
                <button class="btn btn-danger btn-sm" onclick="Delete_Account()">Yes</button>
              </div>
            </div>
          </div>
        </div>

        <div class="tab-content">

          <div class="tab-pane show active" id="My_Profile">
                  <div class="container" align="center">
                    <div class="row">
                      <div class="col-12 border bg-light" style="--bs-bg-opacity: .6;">
                        <div class="p-2" align="center"><img width="200" src="" id="Profile_Photo" class="rounded-circle shadow-4-strong" /></div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-12 border bg-light" style="--bs-bg-opacity: .8;">
                        <div class="p-2" align="center"></div>
                      </div>
                    </div>
                    <div class="row" >
                      <div class="col-12 border bg-light" style="--bs-bg-opacity: .6;">
                        <div class="p-2" align="center"><span id="Username"></span></div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-12 border bg-light">
                        <div class="p-2" align="center">
                          <span>BIO : </span> <span id="user_bio"></span> <br>
                        <span>Gender : </span> <span id="User_Gender"></span> <br> <br>
                        </div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-12 border bg-light">
                        <div class="p-2" align="center">
                          <button class="btn btn-warning" data-bs-target="#Delete_Confirmation_Modal" data-bs-toggle="modal">   Delete My Account   </button> 
                        </div>
                      </div>
                    </div>
                  </div>
           </div>

          <div class="tab-pane fade" id="Edit_Profile">
            <div class="p-2 bg-light" align="center">     
                <br><br>
                <button id="change_profile_picture" onclick="Change_Profile_Picture()">Change Profile Picture</button>&nbsp; <button id="change_profile_picture" onclick="Remove_Profile_Picture()">Remove Profile Picture</button>
                <br><br>
                <div align="center">
                  <form onsubmit="Update_Username();return false">
                    Username : <input type="text" id="Edit_Username" required>  <input type="submit" value="Update Username">
                  </form>
                  <form onsubmit="Update_Bio();return false">
                    Bio : <br> <textarea style="resize: none;" id="Edit_Bio" rows="4" cols="30" required> </textarea> <br><br> <input type="submit" value="Update Bio">
                  </form>
  
                  <form onsubmit="Update_Gender();return false">
                    Gender : <input type="radio" name="Edit_gender" value="male" id="Edit_Male"> Male <input type="radio" name="Edit_gender" value="female" id="Edit_Female"> Female <input type="radio" name="Edit_gender" value="Not_Specified" id="Edit_Not_Specified"> Not_Specified &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="submit" value="Update Gender">
                  </form>
                </div>
                
                <hr>
                <div align="center">
                  <form onsubmit="Update_Password();return false">
                    Current Passowrd : <input type="password" id="Cur_Password" required> <br> <br>
                    New Password : <input type="password" id="New_Password" required> <br> <br>
                    <input type="submit" value="Update Password"> <br>
                  </form>

                </div>
            </div>
          </div>

          <div class="tab-pane fade" id="Rules">
            <div class="p-2 bg-light" align="center">
                  <br>
                  <h3>Username Rules</h3>
                  <p>The number of characters must be between 5 and 15.</p>
                  <p>The string should only contain alphanumeric characters and/or underscores (_). </p>
                  <p>The first character of the string should be alphabetic.</p>
                  <h3>Bio Rules</h3>
                  <p>Length of Bio must not exceed 150 characters</p>
            </div>
          </div>

        </div>
    </div>


<div id="profile_picture_pallet" hidden>
      <button type="button" class="btn-close btn-close-white" aria-label="Close" id="profile_pallet_close_btn" onclick="close_Profile_Pallet()"></button>
      <div id="inner_pallet">
      </div>
</div> 

</body>
    <!-- importing the JS cookie CDN -->
    <script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script>
    <script src="./Scripts/client_profiles.js"></script>
</html>
